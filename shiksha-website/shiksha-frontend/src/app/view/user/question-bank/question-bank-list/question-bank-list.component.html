<div class="p-8 bg-white rounded-sm min-h-[90vh]">
  <div class="flex justify-between items-center">
    <h1
      class="text-xl md:text-3xl font-bold text-content main-heading leading-[48px]"
    >
      {{ "Question Papers" | translate }}
    </h1>
  </div>
  <div
    class="rounded-lg border border-primary relative bg-[#E5EDF67D] text-sm md:text-[16px] p-4 md:p-6 mt-5 text-content-100 flex items-center gap-4 md:gap-2"
  >
    <img
      class="align-text-top"
      src="../../../../../assets/icons/lesson-info.svg"
      alt=""
    />

    <div>
      <h6>
        {{
          "Generate customized question paper that assess students' learning"
            | translate
        }}.
      </h6>
    </div>
  </div>

  <div
    class="flex flex-col md:flex-row gap-2 justify-between items-center mt-4"
  >
    <button
      class="btn-primary flex gap-2 items-center justify-center md:justify-start w-full md:w-fit border border-primary"
      routerLink="/user/question-paper/generate"
    >
      <img src="../../../../../assets/icons/edit_light.svg" alt="" />
      <span class="text-sm md:text-base">{{
        "Generate Question Paper" | translate
      }}</span>
    </button>

    <div class="relative w-full md:w-72">
      <input
        [(ngModel)]="searchText"
        (input)="searchInputChanged($event)"
        class="appearance-none rounded pl-8 px-3 text-content leading-tight focus:outline-none w-full border border-[#ccc] h-9"
        type="text"
        placeholder="{{ 'Search Question Paper' | translate }}"
      />
      <img
        class="absolute left-2 top-1/2 transform -translate-y-1/2 w-5 h-5"
        src="../../../../../assets/icons/Search (1).svg"
        alt=""
      />
    </div>
  </div>

  <div
    class="right_boxes w-full md:w-auto mt-2 border rounded-lg p-4 bg-primary-30"
  >
    <ng-container *ngTemplateOutlet="elementGroup"></ng-container>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-5">
    <div
      class="card px-6 py-8 rounded-xl bg-white border flex flex-col justify-between"
      *ngFor="let item of list"
    >
      <div>
        <div class="flex justify-between">
          <div class="icon flex justify-center items-center bg-purple-100">
            <img src="../../../../../assets/icons/question-paper.svg" alt="" />
          </div>
          <div class="flex flex-col items-end">
            <h6 class="text-xs font-normal text-content-70">
              {{ "Generated On" | translate }}:
              <span>{{ item.createdAt | date : "MMM dd,yyyy" }}</span>
            </h6>
          </div>
        </div>

        <div class="mt-5">
          <h4 class="text-sm font-medium">
            {{ "Subject" | translate }}:
            <span>{{ item.subject }}</span>
          </h4>
          <div class="flex items-center justify-start my-2">
            <p
              class="px-2 py-1 rounded-full text-primary bg-[#F1F4FD] text-[11px] inline-block me-2"
            >
              {{ "Class" | translate }}
              {{ item.grade }}
            </p>
            <p
              class="px-2 py-1 rounded-full text-[#DE3B40] bg-[#FDF2F2] text-[11px] inline-block"
            >
              {{ item.examinationName }}
            </p>
          </div>
          <h6 class="mt-2 text-xs font-normal text-content-70">
            {{ "Chapters" | translate }} :
            <ng-container>
              <span *ngFor="let chapters of item.topics">
                <p
                  class="subtopic-chip px-2 py-1 my-1 rounded-full text-[#3D8248] bg-[#F1FDF3] text-[11px] me-2 inline-block"
                >
                  {{ chapters }}
                </p>
              </span>
            </ng-container>
          </h6>
        </div>
      </div>
      <button
        class="mt-7 w-full py-2 rounded bg-[#A062F7]"
        (click)="viewQuestionPaper(item._id)"
      >
        <h6 class="text-white text-sm font-semibold">
          {{ "View Question Paper" | translate }}
        </h6>
      </button>
    </div>
  </div>

  <div *ngIf="list.length === 0" class="flex items-center justify-center">
    <div
      class="px-6 py-8 rounded-xl w-[460px] h-[300px] bg-white border flex flex-col items-center"
    >
      <div class="rounded-full bg-warn-50 p-4 my-8">
        <img src="../../../../assets/icons/no-file.svg" alt="" />
      </div>
      <h4 class="text-base text-center font-medium">
        {{ "No items found" | translate }}
      </h4>
    </div>
  </div>
</div>

<ng-template #elementGroup>
  <div class="flex gap-4 md:gap-1 flex-wrap">
    <div class="w-full md:w-28 cursor-pointer md:flex-1">
      <app-common-dropdown
        [dropDownValues]="boardDropdownOptions"
        #boardDropDown
        (valueUpdate)="onBoardChange($event)"
        [config]="boardDropdownconfig"
      ></app-common-dropdown>
    </div>

    <div class="w-full md:w-28 cursor-pointer md:flex-1">
      <app-common-dropdown
        [dropDownValues]="mediumDropdownOptions"
        #mediumDropDown
        (valueUpdate)="onMediumChange($event)"
        [config]="mediumDropdownconfig"
      ></app-common-dropdown>
    </div>

    <div class="w-full md:w-28 cursor-pointer md:flex-1">
      <app-common-dropdown
        [dropDownValues]="classDropdownOptions"
        #classDropDown
        (valueUpdate)="onClassChange($event)"
        [config]="classDropdownconfig"
      ></app-common-dropdown>
    </div>

    <div class="w-full md:w-28 cursor-pointer md:flex-1">
      <app-common-dropdown
        [dropDownValues]="subjectDropdownOptions"
        #subjectDropDown
        (valueUpdate)="onSubjectChange($event)"
        [config]="subjectDropdownconfig"
      ></app-common-dropdown>
    </div>
  </div>
</ng-template>
